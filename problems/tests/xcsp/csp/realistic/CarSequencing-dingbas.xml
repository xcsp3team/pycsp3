<instance format="XCSP3" type="CSP">
  <variables>
    <array id="c" note="c[i] is the class of the ith assembled car" size="[10]"> 0..5 </array>
    <array id="o" note="o[i][k] is 1 if the ith assembled car has option k" size="[10][5]"> 0 1 </array>
  </variables>
  <constraints>
    <cardinality note="building the right numbers of cars per class">
      <list> c[] </list>
      <values> 0 1 2 3 4 5 </values>
      <occurs> 1 1 2 2 2 2 </occurs>
    </cardinality>
    <group note="computing assembled car options">
      <intension> imp(eq(%0,%1),and(eq(%2,%3),eq(%4,%5),eq(%6,%7),eq(%8,%9),eq(%10,%11))) </intension>
      <args> c[0] 0 o[0][0] 1 o[0][1] 0 o[0][2] 1 o[0][3] 1 o[0][4] 0 </args>
      <args> c[0] 1 o[0][0] 0 o[0][1] 0 o[0][2] 0 o[0][3] 1 o[0][4] 0 </args>
      <args> c[0] 2 o[0][0] 0 o[0][1] 1 o[0][2] 0 o[0][3] 0 o[0][4] 1 </args>
      <args> c[0] 3 o[0][0] 0 o[0][1] 1 o[0][2] 0 o[0][3] 1 o[0][4] 0 </args>
      <args> c[0] 4 o[0][0] 1 o[0][1] 0 o[0][2] 1 o[0][3] 0 o[0][4] 0 </args>
      <args> c[0] 5 o[0][0] 1 o[0][1] 1 o[0][2] 0 o[0][3] 0 o[0][4] 0 </args>
      <args> c[1] 0 o[1][0] 1 o[1][1] 0 o[1][2] 1 o[1][3] 1 o[1][4] 0 </args>
      <args> c[1] 1 o[1][0] 0 o[1][1] 0 o[1][2] 0 o[1][3] 1 o[1][4] 0 </args>
      <args> c[1] 2 o[1][0] 0 o[1][1] 1 o[1][2] 0 o[1][3] 0 o[1][4] 1 </args>
      <args> c[1] 3 o[1][0] 0 o[1][1] 1 o[1][2] 0 o[1][3] 1 o[1][4] 0 </args>
      <args> c[1] 4 o[1][0] 1 o[1][1] 0 o[1][2] 1 o[1][3] 0 o[1][4] 0 </args>
      <args> c[1] 5 o[1][0] 1 o[1][1] 1 o[1][2] 0 o[1][3] 0 o[1][4] 0 </args>
      <args> c[2] 0 o[2][0] 1 o[2][1] 0 o[2][2] 1 o[2][3] 1 o[2][4] 0 </args>
      <args> c[2] 1 o[2][0] 0 o[2][1] 0 o[2][2] 0 o[2][3] 1 o[2][4] 0 </args>
      <args> c[2] 2 o[2][0] 0 o[2][1] 1 o[2][2] 0 o[2][3] 0 o[2][4] 1 </args>
      <args> c[2] 3 o[2][0] 0 o[2][1] 1 o[2][2] 0 o[2][3] 1 o[2][4] 0 </args>
      <args> c[2] 4 o[2][0] 1 o[2][1] 0 o[2][2] 1 o[2][3] 0 o[2][4] 0 </args>
      <args> c[2] 5 o[2][0] 1 o[2][1] 1 o[2][2] 0 o[2][3] 0 o[2][4] 0 </args>
      <args> c[3] 0 o[3][0] 1 o[3][1] 0 o[3][2] 1 o[3][3] 1 o[3][4] 0 </args>
      <args> c[3] 1 o[3][0] 0 o[3][1] 0 o[3][2] 0 o[3][3] 1 o[3][4] 0 </args>
      <args> c[3] 2 o[3][0] 0 o[3][1] 1 o[3][2] 0 o[3][3] 0 o[3][4] 1 </args>
      <args> c[3] 3 o[3][0] 0 o[3][1] 1 o[3][2] 0 o[3][3] 1 o[3][4] 0 </args>
      <args> c[3] 4 o[3][0] 1 o[3][1] 0 o[3][2] 1 o[3][3] 0 o[3][4] 0 </args>
      <args> c[3] 5 o[3][0] 1 o[3][1] 1 o[3][2] 0 o[3][3] 0 o[3][4] 0 </args>
      <args> c[4] 0 o[4][0] 1 o[4][1] 0 o[4][2] 1 o[4][3] 1 o[4][4] 0 </args>
      <args> c[4] 1 o[4][0] 0 o[4][1] 0 o[4][2] 0 o[4][3] 1 o[4][4] 0 </args>
      <args> c[4] 2 o[4][0] 0 o[4][1] 1 o[4][2] 0 o[4][3] 0 o[4][4] 1 </args>
      <args> c[4] 3 o[4][0] 0 o[4][1] 1 o[4][2] 0 o[4][3] 1 o[4][4] 0 </args>
      <args> c[4] 4 o[4][0] 1 o[4][1] 0 o[4][2] 1 o[4][3] 0 o[4][4] 0 </args>
      <args> c[4] 5 o[4][0] 1 o[4][1] 1 o[4][2] 0 o[4][3] 0 o[4][4] 0 </args>
      <args> c[5] 0 o[5][0] 1 o[5][1] 0 o[5][2] 1 o[5][3] 1 o[5][4] 0 </args>
      <args> c[5] 1 o[5][0] 0 o[5][1] 0 o[5][2] 0 o[5][3] 1 o[5][4] 0 </args>
      <args> c[5] 2 o[5][0] 0 o[5][1] 1 o[5][2] 0 o[5][3] 0 o[5][4] 1 </args>
      <args> c[5] 3 o[5][0] 0 o[5][1] 1 o[5][2] 0 o[5][3] 1 o[5][4] 0 </args>
      <args> c[5] 4 o[5][0] 1 o[5][1] 0 o[5][2] 1 o[5][3] 0 o[5][4] 0 </args>
      <args> c[5] 5 o[5][0] 1 o[5][1] 1 o[5][2] 0 o[5][3] 0 o[5][4] 0 </args>
      <args> c[6] 0 o[6][0] 1 o[6][1] 0 o[6][2] 1 o[6][3] 1 o[6][4] 0 </args>
      <args> c[6] 1 o[6][0] 0 o[6][1] 0 o[6][2] 0 o[6][3] 1 o[6][4] 0 </args>
      <args> c[6] 2 o[6][0] 0 o[6][1] 1 o[6][2] 0 o[6][3] 0 o[6][4] 1 </args>
      <args> c[6] 3 o[6][0] 0 o[6][1] 1 o[6][2] 0 o[6][3] 1 o[6][4] 0 </args>
      <args> c[6] 4 o[6][0] 1 o[6][1] 0 o[6][2] 1 o[6][3] 0 o[6][4] 0 </args>
      <args> c[6] 5 o[6][0] 1 o[6][1] 1 o[6][2] 0 o[6][3] 0 o[6][4] 0 </args>
      <args> c[7] 0 o[7][0] 1 o[7][1] 0 o[7][2] 1 o[7][3] 1 o[7][4] 0 </args>
      <args> c[7] 1 o[7][0] 0 o[7][1] 0 o[7][2] 0 o[7][3] 1 o[7][4] 0 </args>
      <args> c[7] 2 o[7][0] 0 o[7][1] 1 o[7][2] 0 o[7][3] 0 o[7][4] 1 </args>
      <args> c[7] 3 o[7][0] 0 o[7][1] 1 o[7][2] 0 o[7][3] 1 o[7][4] 0 </args>
      <args> c[7] 4 o[7][0] 1 o[7][1] 0 o[7][2] 1 o[7][3] 0 o[7][4] 0 </args>
      <args> c[7] 5 o[7][0] 1 o[7][1] 1 o[7][2] 0 o[7][3] 0 o[7][4] 0 </args>
      <args> c[8] 0 o[8][0] 1 o[8][1] 0 o[8][2] 1 o[8][3] 1 o[8][4] 0 </args>
      <args> c[8] 1 o[8][0] 0 o[8][1] 0 o[8][2] 0 o[8][3] 1 o[8][4] 0 </args>
      <args> c[8] 2 o[8][0] 0 o[8][1] 1 o[8][2] 0 o[8][3] 0 o[8][4] 1 </args>
      <args> c[8] 3 o[8][0] 0 o[8][1] 1 o[8][2] 0 o[8][3] 1 o[8][4] 0 </args>
      <args> c[8] 4 o[8][0] 1 o[8][1] 0 o[8][2] 1 o[8][3] 0 o[8][4] 0 </args>
      <args> c[8] 5 o[8][0] 1 o[8][1] 1 o[8][2] 0 o[8][3] 0 o[8][4] 0 </args>
      <args> c[9] 0 o[9][0] 1 o[9][1] 0 o[9][2] 1 o[9][3] 1 o[9][4] 0 </args>
      <args> c[9] 1 o[9][0] 0 o[9][1] 0 o[9][2] 0 o[9][3] 1 o[9][4] 0 </args>
      <args> c[9] 2 o[9][0] 0 o[9][1] 1 o[9][2] 0 o[9][3] 0 o[9][4] 1 </args>
      <args> c[9] 3 o[9][0] 0 o[9][1] 1 o[9][2] 0 o[9][3] 1 o[9][4] 0 </args>
      <args> c[9] 4 o[9][0] 1 o[9][1] 0 o[9][2] 1 o[9][3] 0 o[9][4] 0 </args>
      <args> c[9] 5 o[9][0] 1 o[9][1] 1 o[9][2] 0 o[9][3] 0 o[9][4] 0 </args>
    </group>
    <block note="respecting option frequencies">
      <group>
        <sum>
          <list> %... </list>
          <condition> (le,1) </condition>
        </sum>
        <args> o[0][0] o[1][0] </args>
        <args> o[1][0] o[2][0] </args>
        <args> o[2][0] o[3][0] </args>
        <args> o[3][0] o[4][0] </args>
        <args> o[4][0] o[5][0] </args>
        <args> o[5][0] o[6][0] </args>
        <args> o[6][0] o[7][0] </args>
        <args> o[7][0] o[8][0] </args>
        <args> o[8][0] o[9][0] </args>
        <args> o[0..2][2] </args>
        <args> o[1..3][2] </args>
        <args> o[2..4][2] </args>
        <args> o[3..5][2] </args>
        <args> o[4..6][2] </args>
        <args> o[5..7][2] </args>
        <args> o[6..8][2] </args>
        <args> o[7..9][2] </args>
        <args> o[0..4][4] </args>
        <args> o[1..5][4] </args>
        <args> o[2..6][4] </args>
        <args> o[3..7][4] </args>
        <args> o[4..8][4] </args>
        <args> o[5..9][4] </args>
      </group>
      <group>
        <sum>
          <list> %... </list>
          <condition> (le,2) </condition>
        </sum>
        <args> o[0..2][1] </args>
        <args> o[1..3][1] </args>
        <args> o[2..4][1] </args>
        <args> o[3..5][1] </args>
        <args> o[4..6][1] </args>
        <args> o[5..7][1] </args>
        <args> o[6..8][1] </args>
        <args> o[7..9][1] </args>
        <args> o[0..4][3] </args>
        <args> o[1..5][3] </args>
        <args> o[2..6][3] </args>
        <args> o[3..7][3] </args>
        <args> o[4..8][3] </args>
        <args> o[5..9][3] </args>
      </group>
    </block>
    <group class="redundant-constraints" note="additional constraints by reasoning from consecutive blocks">
      <sum>
        <list> %... </list>
        <condition> (ge,%0) </condition>
      </sum>
      <args> 5 o[][0] </args>
      <args> 4 o[0..7][0] </args>
      <args> 3 o[0..5][0] </args>
      <args> 2 o[0..3][0] </args>
      <args> 1 o[0][0] o[1][0] </args>
      <args> 6 o[][1] </args>
      <args> 4 o[0..6][1] </args>
      <args> 2 o[0..3][1] </args>
      <args> 3 o[][2] </args>
      <args> 2 o[0..6][2] </args>
      <args> 1 o[0..3][2] </args>
      <args> 4 o[][3] </args>
      <args> 2 o[0..4][3] </args>
      <args> 2 o[][4] </args>
      <args> 1 o[0..4][4] </args>
    </group>
  </constraints>
</instance>
